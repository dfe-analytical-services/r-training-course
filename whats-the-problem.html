<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>DfE R training</title>
  <meta name="description" content="This resource is an introduction to the R programming language. It can be used as standalone learning tool, or as part of training sessions.">
  <meta name="generator" content="bookdown 0.7 and GitBook 2.6.7">

  <meta property="og:title" content="DfE R training" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This resource is an introduction to the R programming language. It can be used as standalone learning tool, or as part of training sessions." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="DfE R training" />
  
  <meta name="twitter:description" content="This resource is an introduction to the R programming language. It can be used as standalone learning tool, or as part of training sessions." />
  




  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="but-why-r.html">
<link rel="next" href="getting-started-with-rstudio.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; position: absolute; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; }
pre.numberSource a.sourceLine:empty
  { position: absolute; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: absolute; left: -5em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Introductory R Training</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a></li>
<li class="chapter" data-level="1" data-path="but-why-r.html"><a href="but-why-r.html"><i class="fa fa-check"></i><b>1</b> But why R?</a></li>
<li class="chapter" data-level="2" data-path="whats-the-problem.html"><a href="whats-the-problem.html"><i class="fa fa-check"></i><b>2</b> What’s the problem?</a><ul>
<li class="chapter" data-level="2.1" data-path="whats-the-problem.html"><a href="whats-the-problem.html#workflow"><i class="fa fa-check"></i><b>2.1</b> Workflow</a></li>
<li class="chapter" data-level="2.2" data-path="whats-the-problem.html"><a href="whats-the-problem.html#the-bottom-line"><i class="fa fa-check"></i><b>2.2</b> The bottom line</a></li>
<li class="chapter" data-level="2.3" data-path="whats-the-problem.html"><a href="whats-the-problem.html#r-is-the-answer"><i class="fa fa-check"></i><b>2.3</b> R is the answer</a></li>
<li class="chapter" data-level="2.4" data-path="whats-the-problem.html"><a href="whats-the-problem.html#but-what-is-r"><i class="fa fa-check"></i><b>2.4</b> But what is R?</a></li>
<li class="chapter" data-level="2.5" data-path="whats-the-problem.html"><a href="whats-the-problem.html#should-i-stop-using-all-other-tools"><i class="fa fa-check"></i><b>2.5</b> Should I stop using all other tools?</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="getting-started-with-rstudio.html"><a href="getting-started-with-rstudio.html"><i class="fa fa-check"></i><b>3</b> Getting Started with RStudio</a><ul>
<li class="chapter" data-level="3.1" data-path="getting-started-with-rstudio.html"><a href="getting-started-with-rstudio.html#opening-r-studio"><i class="fa fa-check"></i><b>3.1</b> Opening R Studio</a></li>
<li class="chapter" data-level="3.2" data-path="getting-started-with-rstudio.html"><a href="getting-started-with-rstudio.html#r-studio-layout"><i class="fa fa-check"></i><b>3.2</b> R Studio Layout</a></li>
<li class="chapter" data-level="3.3" data-path="getting-started-with-rstudio.html"><a href="getting-started-with-rstudio.html#setting-up-a-project"><i class="fa fa-check"></i><b>3.3</b> Setting up a project</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="data.html"><a href="data.html"><i class="fa fa-check"></i><b>4</b> Data</a></li>
<li class="chapter" data-level="5" data-path="general-coding.html"><a href="general-coding.html"><i class="fa fa-check"></i><b>5</b> General Coding</a><ul>
<li class="chapter" data-level="5.1" data-path="general-coding.html"><a href="general-coding.html#objects"><i class="fa fa-check"></i><b>5.1</b> Objects</a></li>
<li class="chapter" data-level="5.2" data-path="general-coding.html"><a href="general-coding.html#comments"><i class="fa fa-check"></i><b>5.2</b> Comments</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="base-r.html"><a href="base-r.html"><i class="fa fa-check"></i><b>6</b> Base R</a><ul>
<li class="chapter" data-level="6.1" data-path="base-r.html"><a href="base-r.html#loading-in-data"><i class="fa fa-check"></i><b>6.1</b> Loading in data</a></li>
<li class="chapter" data-level="6.2" data-path="base-r.html"><a href="base-r.html#basic-dataframe-functions"><i class="fa fa-check"></i><b>6.2</b> Basic dataframe functions</a></li>
<li class="chapter" data-level="6.3" data-path="base-r.html"><a href="base-r.html#selecting-certain-columnsremoving-columns"><i class="fa fa-check"></i><b>6.3</b> Selecting certain columns/removing columns</a></li>
<li class="chapter" data-level="6.4" data-path="base-r.html"><a href="base-r.html#conditional-selections"><i class="fa fa-check"></i><b>6.4</b> Conditional Selections</a></li>
<li class="chapter" data-level="6.5" data-path="base-r.html"><a href="base-r.html#altering-data-in-dataframes"><i class="fa fa-check"></i><b>6.5</b> Altering data in dataframes</a></li>
<li class="chapter" data-level="6.6" data-path="base-r.html"><a href="base-r.html#writing-data"><i class="fa fa-check"></i><b>6.6</b> Writing data</a></li>
<li class="chapter" data-level="6.7" data-path="base-r.html"><a href="base-r.html#packages"><i class="fa fa-check"></i><b>6.7</b> Packages</a></li>
<li class="chapter" data-level="6.8" data-path="base-r.html"><a href="base-r.html#the-pipe"><i class="fa fa-check"></i><b>6.8</b> The pipe</a></li>
<li class="chapter" data-level="6.9" data-path="base-r.html"><a href="base-r.html#joining"><i class="fa fa-check"></i><b>6.9</b> Joining</a></li>
<li class="chapter" data-level="6.10" data-path="base-r.html"><a href="base-r.html#selecting"><i class="fa fa-check"></i><b>6.10</b> Selecting</a></li>
<li class="chapter" data-level="6.11" data-path="base-r.html"><a href="base-r.html#pivoting"><i class="fa fa-check"></i><b>6.11</b> Pivoting</a></li>
<li class="chapter" data-level="6.12" data-path="base-r.html"><a href="base-r.html#filtering"><i class="fa fa-check"></i><b>6.12</b> Filtering</a></li>
<li class="chapter" data-level="6.13" data-path="base-r.html"><a href="base-r.html#mutating"><i class="fa fa-check"></i><b>6.13</b> Mutating</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="graphs.html"><a href="graphs.html"><i class="fa fa-check"></i><b>7</b> Graphs</a><ul>
<li class="chapter" data-level="7.1" data-path="graphs.html"><a href="graphs.html#ggplot2"><i class="fa fa-check"></i><b>7.1</b> ggplot2</a></li>
<li class="chapter" data-level="7.2" data-path="graphs.html"><a href="graphs.html#scatter-plots"><i class="fa fa-check"></i><b>7.2</b> Scatter plots</a></li>
<li class="chapter" data-level="7.3" data-path="graphs.html"><a href="graphs.html#bar-charts"><i class="fa fa-check"></i><b>7.3</b> Bar charts</a></li>
<li class="chapter" data-level="7.4" data-path="graphs.html"><a href="graphs.html#line-graphs"><i class="fa fa-check"></i><b>7.4</b> Line graphs</a></li>
<li class="chapter" data-level="7.5" data-path="graphs.html"><a href="graphs.html#displaying-a-third-variable"><i class="fa fa-check"></i><b>7.5</b> Displaying a third variable</a></li>
<li class="chapter" data-level="7.6" data-path="graphs.html"><a href="graphs.html#styles"><i class="fa fa-check"></i><b>7.6</b> Styles</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="statistical-operations.html"><a href="statistical-operations.html"><i class="fa fa-check"></i><b>8</b> Statistical Operations</a><ul>
<li class="chapter" data-level="8.1" data-path="statistical-operations.html"><a href="statistical-operations.html#maximum-minimum-and-range"><i class="fa fa-check"></i><b>8.1</b> Maximum, Minimum, and Range</a></li>
<li class="chapter" data-level="8.2" data-path="statistical-operations.html"><a href="statistical-operations.html#averages"><i class="fa fa-check"></i><b>8.2</b> Averages</a></li>
<li class="chapter" data-level="8.3" data-path="statistical-operations.html"><a href="statistical-operations.html#correlations"><i class="fa fa-check"></i><b>8.3</b> Correlations</a></li>
<li class="chapter" data-level="8.4" data-path="statistical-operations.html"><a href="statistical-operations.html#significance-testing"><i class="fa fa-check"></i><b>8.4</b> Significance Testing</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="iteration.html"><a href="iteration.html"><i class="fa fa-check"></i><b>9</b> Iteration</a><ul>
<li class="chapter" data-level="9.1" data-path="iteration.html"><a href="iteration.html#if"><i class="fa fa-check"></i><b>9.1</b> if</a></li>
<li class="chapter" data-level="9.2" data-path="iteration.html"><a href="iteration.html#for-loops"><i class="fa fa-check"></i><b>9.2</b> for loops</a></li>
<li class="chapter" data-level="9.3" data-path="iteration.html"><a href="iteration.html#while-loops"><i class="fa fa-check"></i><b>9.3</b> while loops</a></li>
<li class="chapter" data-level="9.4" data-path="iteration.html"><a href="iteration.html#how-could-we-use-loops"><i class="fa fa-check"></i><b>9.4</b> How could we use loops?</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="maps.html"><a href="maps.html"><i class="fa fa-check"></i><b>10</b> Maps</a><ul>
<li class="chapter" data-level="10.1" data-path="maps.html"><a href="maps.html#loading-in-geospatial-data"><i class="fa fa-check"></i><b>10.1</b> Loading in geospatial data</a></li>
<li class="chapter" data-level="10.2" data-path="maps.html"><a href="maps.html#coordinate-systems"><i class="fa fa-check"></i><b>10.2</b> Coordinate systems</a></li>
<li class="chapter" data-level="10.3" data-path="maps.html"><a href="maps.html#transforming-mapping-data"><i class="fa fa-check"></i><b>10.3</b> Transforming mapping data</a></li>
<li class="chapter" data-level="10.4" data-path="maps.html"><a href="maps.html#point-maps"><i class="fa fa-check"></i><b>10.4</b> Point maps</a></li>
<li class="chapter" data-level="10.5" data-path="maps.html"><a href="maps.html#chloropleth-maps"><i class="fa fa-check"></i><b>10.5</b> Chloropleth maps</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="r-markdown.html"><a href="r-markdown.html"><i class="fa fa-check"></i><b>11</b> R Markdown</a><ul>
<li class="chapter" data-level="11.1" data-path="r-markdown.html"><a href="r-markdown.html#text"><i class="fa fa-check"></i><b>11.1</b> Text</a></li>
<li class="chapter" data-level="11.2" data-path="r-markdown.html"><a href="r-markdown.html#code"><i class="fa fa-check"></i><b>11.2</b> Code</a></li>
<li class="chapter" data-level="11.3" data-path="r-markdown.html"><a href="r-markdown.html#multiple-reports"><i class="fa fa-check"></i><b>11.3</b> Multiple Reports</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="functions.html"><a href="functions.html"><i class="fa fa-check"></i><b>12</b> Functions</a><ul>
<li class="chapter" data-level="12.1" data-path="functions.html"><a href="functions.html#writing-functions"><i class="fa fa-check"></i><b>12.1</b> Writing functions</a></li>
<li class="chapter" data-level="12.2" data-path="functions.html"><a href="functions.html#applying-functions-repetitively"><i class="fa fa-check"></i><b>12.2</b> Applying functions repetitively</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">DfE R training</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="whats-the-problem" class="section level1">
<h1><span class="header-section-number">Chapter 2</span> What’s the problem?</h1>
<div id="workflow" class="section level2">
<h2><span class="header-section-number">2.1</span> Workflow</h2>
<p>A typical analytical workflow in our department might involve SQL, Excel and Word. Typical steps might be:</p>
<ol style="list-style-type: decimal">
<li>Query a database with SQL code using SQL Server Management Studio</li>
<li>QA this code</li>
<li>Copy and paste the output into Excel</li>
<li>Process the data in Excel</li>
<li>Produce outputs (tables, plots, etc) manually in Excel</li>
<li>QA your Excel file(s)</li>
<li>Copy and paste outputs into a Word document</li>
<li>QA the Word document</li>
<li>You notice an error</li>
<li>Debug somehow (go back to step 1?)</li>
</ol>
<p>There are three main reasons why this isn’t ideal. It’s:</p>
<ul>
<li>got a high chance of producing <strong>errors</strong></li>
<li><strong>difficult to reproduce</strong> your work (what order were the steps in your workflow?)</li>
<li><strong>time consuming</strong> (many steps, lots of wasted time)</li>
</ul>
<p>So, let’s discuss what we mean by ‘errors’. This is mostly a problem with spreadsheets and moving data in and out of them. You:</p>
<ul>
<li>might alter data without realising</li>
<li>could copy-paste data or formulae incorrectly with little record of what steps you took (e.g. <a href="https://www.bloomberg.com/news/articles/2013-04-18/faq-reinhart-rogoff-and-the-excel-error-that-changed-history">this high profile case</a>)</li>
<li>might not realise <a href="http://panko.shidler.hawaii.edu/SSR/Mypapers/whatknow.htm">how frequent these errors are</a> until they get <a href="https://www.cio.com/article/2438188/enterprise-software/eight-of-the-worst-spreadsheet-blunders.html">embarrassing</a></li>
</ul>
<p>In terms of reproducibility, you don’t have a record of the order of doing things and therefore it’s not easy to backtrack on mistakes. A lot of documentation and commenting is required within and across multiple files to ensure that the workflow can be replicated. Typically, this is not always the case. If you write reproducible code, it may also be easier to automate it. This in turn can help free-up time for other, perhaps less trivial, tasks. For example, the <a href="https://dataingovernment.blog.gov.uk/2017/03/27/reproducible-analytical-pipeline/">Reproducible Analytical Pipeline</a> (RAP) approach helps reduce error and speed up the process of producing official statistics.</p>
<p>Obviously the process takes time because you have to copy-paste values from place to place and perform quality assurance across all the files in your workflow. But there’s also the time needed to remember how you did the analysis when you’re asked to make changes long after you remember how the process works.</p>
</div>
<div id="the-bottom-line" class="section level2">
<h2><span class="header-section-number">2.2</span> The bottom line</h2>
<p>Our analytical work has a direct impact on policy decisions and therefore it affects young people, parents, learners, schools, teachers and many others.</p>
<p>Above all <em>humans cannot be trusted</em>. Let’s minimise the chance of errors, speed things up and make it easy on our future selves by minimising the chance of doing it wrong in the first place. This means breaking away from <a href="http://www.burns-stat.com/documents/tutorials/spreadsheet-addiction/">spreadsheet addiction</a>.</p>
</div>
<div id="r-is-the-answer" class="section level2">
<h2><span class="header-section-number">2.3</span> R is the answer</h2>
<p>What might an optimal analytical workflow look like in R then?</p>
<ol style="list-style-type: decimal">
<li>Run your code</li>
</ol>
<p>This is simple. R is end-to-end: you can get data in at one end from files or a database and pump it out the other in a report or app, while also having automated testing built in. All from the same script. You also have the opportunity to more easily version your work using tools such as <a href="https://guides.github.com/activities/hello-world/">Git and GitHub</a>.</p>
</div>
<div id="but-what-is-r" class="section level2">
<h2><span class="header-section-number">2.4</span> But what is R?</h2>
<p>R is a <em>just another tool</em> for data analysis, in the same way that Excel and SQL are tools for data analysis.</p>
<p>Put simply, R lets you read, wrangle and analyse data and create outputs such as graphics, documents and interactive apps. R is a coding language, which means you use it to write instructions for the computer to perform. This allows for fine control of what you want to do.</p>
<p>You can think of R as a place where data is abstracted away and the instructions are brought to the forefront, whereas spreadsheets are where data is at the forefront and the instructions are abstracted away (I heard this somewhere but can’t remember the source; let me know).</p>
<p>RStudio is simply a very useful interface for R that provides a whole bunch of useful bells and whistles.</p>
<p>What’s great about R? It’s:</p>
<ul>
<li>free</li>
<li>available on our work laptops via Software Center</li>
<li>open-source and cross-platform (you can <a href="https://cran.r-project.org/">download</a> it for Windows, Mac and Linux machines)</li>
<li>established and has many high-quality extensions available (‘packages’)</li>
<li>has a big and active community, both in the department (e.g. Coffee &amp; Coding) and online (e.g. the <a href="https://www.community.rstudio.com/">RStudio Community</a>)</li>
<li>got a lot of in-built help files</li>
<li>got a wealth of articles and help online (e.g. the <a href="https://www.r-bloggers.com/">R bloggers</a> feed and via <a href="https://stackoverflow.com/questions/tagged/r">StackOverflow</a>)</li>
<li>got excellent statistical and graphics capabilities in particular</li>
<li>the suite of RStudio tools make documentation, teaching and dissemination much easier</li>
</ul>
<p>I could go on.</p>
</div>
<div id="should-i-stop-using-all-other-tools" class="section level2">
<h2><span class="header-section-number">2.5</span> Should I stop using all other tools?</h2>
<p>R is <em>not always</em> the answer. We’re not telling you that we <em>must</em> do things in any particular way. For example, you have an urgent request for the minister due in five minutes and you don’t have the experience to do it in R. <a href="http://www.mastodonc.com/data%20science/excel/2017/08/16/when-is-excel-good-enough.html">Excel may be good enough.</a> That’s absolutely fine. The argument here is that we should move towards a more reproducible model, so that when the minister comes back wanting to tweak your calculation you can be confident that you can remember what you did and how you did it.</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="but-why-r.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="getting-started-with-rstudio.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "section"
}
});
});
</script>

</body>

</html>
